import{V as l,d as s,ah as h,x as d,aC as I,J as N,ab as p,c as m,aD as q,z as $,at as v,au as b,ad as L,av as k,A as S,aE as E,aF as _,a9 as M,aG as R}from"./entry.client-E7ETWePr.js";import{H}from"./circular-oB4auIIg-DgyXsEjO.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],be=l("chevrons-down-up",J);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]],F=l("chevrons-left-right",V);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],ke=l("chevrons-up-down",U);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],B=l("circle-dot",W);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]],Q=l("circle-fading-plus",G);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M5 12h14",key:"1ays0h"}]],X=l("minus",T);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Z=l("plus",Y);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8",key:"1pbrqz"}],["path",{d:"M21 22v-6h-6",key:"usdfbe"}],["path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7",key:"1hosoe"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ee=l("refresh-ccw-dot",K);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]],ae=l("square-minus",se);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],re=l("square-plus",te),ne=(e,a)=>e.reduce((t,r)=>{const n=a(r);return t[n]||(t[n]=[]),t[n].push(r),t},{}),ie=({pattern:e})=>{const[a,t]=m.useState(!1),r=e.length>20,n=r?`${e.slice(0,20)}…`:e;return s.jsxs(M,{className:d("text-xs",r&&"cursor-pointer"),onClick:()=>t(!a),selectOnClick:!1,children:[a?e:n,r&&s.jsx("button",{type:"button",className:"p-1 translate-y-[2px]",children:!a&&s.jsx(F,{size:12})})]})},ce=e=>e?[e.type==="array"&&e.items.type?Array.isArray(e.items.type)?`(${e.items.type.join(" | ")})[]`:`${e.items.type}[]`:Array.isArray(e.type)?e.type.join(" | "):e.type,e.enum&&"enum",e.const&&"const",e.format,e.minimum&&`min: ${e.minimum}`,e.maximum&&`max: ${e.maximum}`,e.minLength&&`minLength: ${e.minLength}`,e.maxLength&&`maxLength: ${e.maxLength}`,e.minItems&&`minItems: ${e.minItems}`,e.maxItems&&`maxItems: ${e.maxItems}`,e.uniqueItems&&"unique",e.minProperties&&`minProps: ${e.minProperties}`,e.maxProperties&&`maxProps: ${e.maxProperties}`,e.readOnly&&"readOnly",e.writeOnly&&"writeOnly",e.deprecated&&"deprecated",e.pattern&&s.jsxs(s.Fragment,{children:["pattern: ",s.jsx(ie,{pattern:e.pattern})]})]:[],u=({schema:e,extraItems:a=[],className:t})=>{const r=[...ce(e),...a].flatMap(n=>typeof n=="string"||m.isValidElement(n)?n:[]);return s.jsx("span",{className:t,children:r.map((n,i)=>s.jsxs("span",{className:"text-muted-foreground",children:[n,i<r.length-1&&s.jsx("span",{className:"text-muted-foreground/50",children:" · "})]},i))})},j=({values:e,className:a,maxVisibleValues:t=8})=>{const[r,n]=m.useState(!1);if(!e.length)return null;const i=e.length>t,c=i&&!r?e.slice(0,t):e;return s.jsxs("div",{className:d("flex flex-wrap gap-1.5 text-xs",a),children:[s.jsx("span",{className:"text-muted-foreground",children:"Enum values: "}),c.map(o=>s.jsx("div",{children:s.jsx(p,{className:"border rounded-sm px-1 font-mono",children:o})},o)),i&&s.jsx(S,{variant:"ghost",size:"sm",className:"h-fit px-0",onClick:()=>n(!r),children:r?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(E,{size:12}),s.jsx("span",{className:"text-muted-foreground",children:"show less"})]}):s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_,{size:12}),s.jsxs("span",{className:"text-muted-foreground",children:["show ",e.length-t," more"]})]})})]})},f=({schema:e})=>{const a=e.examples?.at(0),t=e.default;return!a&&!t?null:s.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[a&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Example: "}),s.jsx(p,{className:"border rounded-sm px-1 font-mono",children:typeof a=="object"||typeof a=="boolean"?JSON.stringify(a):a})]}),t&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Default: "}),s.jsx(p,{className:"border rounded-sm px-1 font-mono",children:typeof t=="object"||typeof t=="boolean"?JSON.stringify(t):t})]})]})},z=({schema:e,hideDescription:a=!1})=>s.jsx("div",{className:"flex flex-col gap-1 text-xs",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Const value: "}),s.jsx(p,{className:"border rounded px-1 font-mono",children:e.const}),!a&&e.description&&s.jsx("div",{className:"text-muted-foreground",children:e.description})]})}),le={AND:s.jsx(Q,{size:16,className:"fill-card"}),OR:s.jsx(B,{size:16,className:"fill-card"}),ONE:s.jsx(R,{size:14,className:"fill-card"})},oe={AND:"text-green-500 dark:text-green-300/60",OR:"text-blue-400 dark:text-blue-500",ONE:"text-purple-500 dark:text-purple-300/60"},de=({type:e,isOpen:a,className:t,schemeName:r})=>s.jsx("div",{className:d(oe[e],"relative text-sm flex py-2","before:border-l before:absolute before:-top-2 before:-bottom-2 before:border-border before:border-dashed before:content-['']",t),children:s.jsxs("div",{className:"-translate-x-[7px] flex gap-1 items-center",children:[le[e],s.jsx("div",{className:d("translate-y-px mx-px opacity-0 group-hover:opacity-100 transition",!a&&"-rotate-90"),children:s.jsx(_,{size:16})}),s.jsx("span",{className:"text-sm text-foreground",children:r})]})}),me=e=>{const[a,t]=m.useState(!0);return s.jsxs(v,{open:a,onOpenChange:()=>t(r=>!r),className:"group",children:[s.jsx(b,{children:s.jsx(de,{type:e.type,isOpen:a,schemeName:e.schema.title})}),!a&&s.jsx("div",{className:"wavy-line bg-border translate-y-1"}),s.jsx(k,{children:s.jsx(x,{schema:e.schema})})]})},pe={AND:"All of",OR:"Any of",ONE:"One of"},xe=({schemas:e,type:a,isOpen:t,toggleOpen:r})=>s.jsx(v,{open:t,onOpenChange:r,asChild:!0,children:s.jsxs(h,{className:"px-6",children:[s.jsxs(b,{className:"flex gap-2 items-center py-2 w-full text-sm text-muted-foreground -translate-x-1.5",children:[t?s.jsx(ae,{size:14}):s.jsx(re,{size:14}),s.jsx("span",{children:pe[a]})]}),s.jsx(k,{className:"pb-4",children:e.map((n,i)=>s.jsx(me,{type:a,schema:n},i))})]})}),he=e=>typeof e=="string"&&["string","number","boolean","integer","null"].includes(e),y=e=>e.type==="array"||Array.isArray(e.type)&&e.type.includes("array"),O=e=>e&&(e.type==="object"&&Object.keys(e.properties??{}).length>0||e.type==="array"&&typeof e.items=="object"&&(!e.items.type||e.items.type==="object")),g=e=>!!(e.oneOf??e.allOf??e.anyOf),ue={allOf:"AND",anyOf:"OR",oneOf:"ONE"},A=e=>typeof e=="string"&&e.startsWith(H),w=e=>y(e)&&"items"in e&&A(e.items),je=e=>typeof e=="string"?e.split(":")[1]:void 0,P=({schema:e})=>{const[a,t]=m.useState(!0),r=m.useCallback(()=>t(n=>!n),[]);for(const[n,i]of q(ue))if(e[n])return s.jsx(xe,{schemas:e[n],type:i,isOpen:a,toggleOpen:r})},C=({circularProp:e})=>s.jsxs(M,{className:"inline-flex items-center gap-1.5 italic text-xs translate-y-0.5",selectOnClick:!1,children:[s.jsx(ee,{size:13}),s.jsx("span",{children:e?`${e} (circular)`:"circular"})]}),fe=({name:e,schema:a,group:t,defaultOpen:r=!1,showCollapseButton:n=!0})=>{const[i,c]=m.useState(r);if(A(a))return s.jsx("li",{className:"p-4 bg-border/20 hover:bg-border/30",children:s.jsxs("div",{className:"flex flex-col gap-2.5 justify-between text-sm",children:[s.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[s.jsx("code",{children:e}),s.jsx(u,{schema:a,extraItems:[s.jsx(C,{},"circular-ref")]})]}),s.jsx(f,{schema:a})]})});const o=!!((g(a)||O(a)||y(a)&&"items"in a&&O(a.items)||a.additionalProperties)&&!w(a));return s.jsx("li",{className:"p-4 bg-border/20 hover:bg-border/30",children:s.jsxs("div",{className:"flex flex-col gap-2.5 justify-between text-sm",children:[s.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[s.jsx(p,{asChild:!0,children:s.jsx("code",{children:e})}),s.jsx(u,{schema:a,extraItems:[t!=="optional"&&s.jsx("span",{className:"text-primary",children:"required"}),w(a)&&s.jsx(C,{circularProp:je(a.items)})]})]}),a.description&&s.jsx($,{className:d(N,"text-sm leading-normal line-clamp-4"),content:a.description}),a.type==="array"&&"items"in a&&a.items.enum&&s.jsx(j,{values:a.items.enum}),a.const&&s.jsx(z,{schema:a,hideDescription:!0}),a.enum&&s.jsx(j,{values:a.enum}),s.jsx(f,{schema:a}),o&&s.jsxs(v,{defaultOpen:r,open:i,onOpenChange:()=>c(!i),children:[n&&s.jsx(b,{asChild:!0,children:s.jsxs(L,{variant:"expand",size:"sm",children:[i?s.jsx(X,{size:12}):s.jsx(Z,{size:12}),i?"Hide properties":"Show properties"]})}),s.jsx(k,{children:s.jsx("div",{className:"mt-2",children:g(a)?s.jsx(P,{schema:a}):a.type==="object"?s.jsx(x,{schema:a}):y(a)&&"items"in a?s.jsx(x,{schema:a.items}):null})})]})]})})},ye=e=>e&&s.jsx($,{className:d(N,"text-sm leading-normal line-clamp-4"),content:e}),ge=e=>s.jsxs(h,{className:"p-4 space-y-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:s.jsx(u,{schema:e})}),e.enum&&s.jsx(j,{values:e.enum}),ye(e.description),s.jsx(f,{schema:e})]}),x=({schema:e,defaultOpen:a=!1,cardHeader:t})=>{if(!e||Object.keys(e).length===0)return s.jsxs(h,{className:"overflow-hidden",children:[t,s.jsx("div",{className:"text-sm text-muted-foreground italic p-4",children:"No schema specified"})]});if(e.const)return s.jsx(z,{schema:e});if(g(e))return s.jsx(P,{schema:e});if(he(e.type))return ge(e);if(e.type==="array"&&typeof e.items=="object")return s.jsx(x,{schema:e.items});if(e.type==="object"){const r=ne(Object.entries(e.properties??{}),([c,o])=>o.deprecated?"deprecated":e.required?.includes(c)?"required":"optional"),n=["required","optional","deprecated"],i=typeof e.additionalProperties=="object"?s.jsx(x,{schema:e.additionalProperties}):e.additionalProperties===!0?s.jsxs("div",{className:d(N,"text-sm p-4 bg-border/20 hover:bg-border/30 flex items-center gap-1"),children:[s.jsx("span",{children:"Additional properties are allowed"}),s.jsx("a",{className:"p-0.5 -m-0.5",href:"https://swagger.io/docs/specification/v3_0/data-models/dictionaries/",rel:"noopener noreferrer",target:"_blank",children:s.jsx(I,{size:14})})]}):null;return s.jsxs(h,{className:"divide-y overflow-hidden",children:[t,n.map(c=>r[c]&&s.jsx("ul",{className:"divide-y",children:r[c].map(([o,D])=>s.jsx(fe,{name:o,schema:D,group:c,defaultOpen:a},o))},c)),i]})}return null};export{A,ke as C,X as M,Z as P,ne as W,be as a,j as f,f as g,u as j,x as p,y};
//# sourceMappingURL=SchemaView-CPZ6RgsF-Do7_pDEb.js.map
